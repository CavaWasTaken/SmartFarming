
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Farm!</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./plants.css" />
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        {% for plant in plants_list %}
        <div class="col-md-6 col-lg-3">
          <div class="card">
            <div class="card-img">
            <svg version="1.1" id="Uploaded to svgrepo.com" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100px" height="100px" viewBox="0 0 32 32" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .avocado_een{fill:#231F20;} .avocado_negen{fill:#6F9B45;} .avocado_tien{fill:#C3CC6A;} .avocado_drie{fill:#716558;} .avocado_vier{fill:#AF9480;} .st0{fill:#EAD13F;} .st1{fill:#CC4121;} .st2{fill:#FFFAEE;} .st3{fill:#E0A838;} .st4{fill:#D1712A;} .st5{fill:#A3AEB5;} .st6{fill:#788287;} .st7{fill:#248EBC;} .st8{fill:#8D3E93;} .st9{fill:#3D3935;} .st10{fill:#D36781;} .st11{fill:#E598A3;} .st12{fill:#DBD2C1;} .st13{fill:#231F20;} </style> <g> <path class="avocado_tien" d="M26.241,9.442c-0.061-0.167-0.796-0.56-3.433-0.371l-0.712,0.052l0.195-0.687 c0.887-3.12,0.602-4.102,0.433-4.2c-0.19-0.11-1.291,0.188-3.803,2.874l-0.665,0.711l-0.19-0.954C17.263,2.852,16.311,1.5,16,1.5 s-1.263,1.352-2.066,5.368l-0.19,0.954l-0.665-0.711c-2.517-2.691-3.617-2.982-3.803-2.874c-0.169,0.098-0.454,1.08,0.433,4.2 l0.195,0.687L9.191,9.072C6.557,8.883,5.82,9.275,5.759,9.442c-0.285,0.784,3.815,3.739,6.668,5.058h7.146 C22.426,13.182,26.526,10.226,26.241,9.442z"></path> <path class="avocado_negen" d="M26.241,9.442c-0.016-0.043-0.078-0.1-0.202-0.159C23.495,11.257,19.95,12.5,16,12.5 c-3.95,0-7.495-1.243-10.039-3.217C5.837,9.342,5.775,9.4,5.759,9.442c-0.285,0.784,3.815,3.739,6.668,5.058h7.146 C22.426,13.182,26.526,10.226,26.241,9.442z"></path> <polygon class="avocado_vier" points="23.5,27.5 22.434,27.5 23.559,18.5 24.5,18.5 24.5,14.5 7.5,14.5 7.5,18.5 8.441,18.5 9.566,27.5 8.5,27.5 8.5,30.5 23.5,30.5 "></polygon> <polygon class="avocado_drie" points="23.253,21 8.762,21 8.441,18.5 23.559,18.5 "></polygon> <path class="avocado_een" d="M26.711,9.272c-0.201-0.553-1.263-0.75-2.616-0.75c-0.419,0-0.865,0.019-1.323,0.052 c0.615-2.161,0.96-4.331,0.202-4.769c-0.097-0.056-0.209-0.082-0.334-0.082c-0.939,0-2.619,1.479-4.084,3.048 C18.029,4.134,17.083,1,16,1s-2.029,3.134-2.557,5.77c-1.466-1.568-3.145-3.048-4.084-3.048c-0.125,0-0.237,0.026-0.334,0.082 C8.267,4.242,8.613,6.412,9.228,8.573C8.77,8.54,8.323,8.521,7.905,8.521c-1.353,0-2.415,0.197-2.616,0.75 c-0.403,1.107,2.732,3.33,5.139,4.728H7v5h1l1,8H8v4h16v-4h-1l1-8h1v-5h-3.428C23.979,12.602,27.114,10.379,26.711,9.272z M23,30H9 v-2h14V30z M21.992,27H10.008l-1-8h13.984L21.992,27z M24,18H8v-3h16V18z M19.498,14h-6.995c-2.312-1.025-5.465-3.389-6.132-4.33 c0.243-0.068,0.706-0.148,1.534-0.148c0.377,0,0.798,0.017,1.251,0.049l1.424,0.103L10.189,8.3c-0.597-2.1-0.625-3.086-0.585-3.497 c0.462,0.213,1.471,0.898,3.108,2.65l1.329,1.422l0.382-1.909C14.976,4.205,15.617,2.67,16,2.143 c0.383,0.527,1.024,2.062,1.576,4.822l0.382,1.909l1.329-1.422c1.639-1.754,2.648-2.438,3.108-2.651 c0.041,0.41,0.013,1.396-0.585,3.498L21.42,9.673l1.424-0.103c0.454-0.033,0.875-0.049,1.251-0.049c0.828,0,1.29,0.08,1.534,0.148 C24.963,10.611,21.81,12.975,19.498,14z"></path> </g> </g></svg>            </div>
            <div class="desc">
              <h6 class="primary-text"> 
                {{ plant.name }}
              </h6>
            </div>
            <button class="primary-text" onclick="openModal(this)"

            data-name="{{ plant.name }}"
      
            data-ph-min="{{ plant.desired_thresholds.pH.min}}"
            data-ph-max="{{ plant.desired_thresholds.pH.max}}"
      
            data-K-min="{{ plant.desired_thresholds.NPK.K.min}}"
            data-K-max="{{ plant.desired_thresholds.NPK.K.max}}"
      
            data-N-min="{{ plant.desired_thresholds.NPK.N.min}}"
            data-N-max="{{ plant.desired_thresholds.NPK.N.max}}"
      
            data-P-min="{{ plant.desired_thresholds.NPK.P.min}}"
            data-P-max="{{ plant.desired_thresholds.NPK.P.max}}"
      
            data-Humidity-min="{{ plant.desired_thresholds.Humidity.min}}"
            data-Humidity-max="{{ plant.desired_thresholds.Humidity.max}}"
      
            data-Temperature-min="{{ plant.desired_thresholds.Temperature.min}}"
            data-Temperature-max="{{ plant.desired_thresholds.Temperature.max}}" 
            
            
            data-SoilMoisture-min="{{ plant.desired_thresholds.SoilMoisture.min}}"  
            data-SoilMoisture-max="{{ plant.desired_thresholds.SoilMoisture.max}}"  
      
            data-LightIntensity-min="{{ plant.desired_thresholds.LightIntensity.min}}"  
            data-LightIntensity-max="{{ plant.desired_thresholds.LightIntensity.max}}"  >
            See Details
            </button>

            <div class="details">
              <div class="activity">
                <h6 class="primary-text">{{ plant.plant_id }}</h6>
                <h6 class="secondary-text">plant_id</h6>
              </div>
              <div class="rating">
                <h6 class="primary-text">{{ plant.name }}</h6>
                <h6 class="secondary-text">Name</h6>
              </div>
              <div class="activity">
                <h6 class="primary-text">{{ plant.species }}</h6>
                <h6 class="secondary-text">species</h6>
              </div>
            </div>

          </div>
        </div>
        {% endfor %}

      </div>
    </div>
    <div class="modal" id="plantModal">
        <div class="modal-content">
          <span class="close" onclick="closeModal()">&times;</span>
          <h2 id="plant-name">Desired Threshold</h2>
          <p id="plant-ph">PH:</p>
          <p id="plant-npk">NPK:</p>
          <p id="plant-N">N:</p>
          <p id="plant-P">P:</p>
          <p id="plant-Humidity">Humidity:</p>
          <p id="plant-Temperature">Temperature:</p>
          <p id="plant-soil-moisture">SoilMoisture:</p>
          <p id="plant-LightIntensity">LightIntensity:</p>
        </div>
      </div>
      <script>
        function openModal(element) {
          // Get plant details from data attributes
          const name = element.getAttribute("data-name");
  
          const data_ph_min = element.getAttribute("data-ph-min");
          const data_ph_max = element.getAttribute("data-ph-max");
  
          const data_NPK_min = element.getAttribute("data-K-min");
          const data_NPK_max = element.getAttribute("data-K-max");
  
          const data_N_min = element.getAttribute("data-N-min");
          const data_N_max = element.getAttribute("data-N-max");
  
          const data_P_min = element.getAttribute("data-P-min");
          const data_P_max = element.getAttribute("data-P-max");
  
          const data_Humidity_min = element.getAttribute("data-Humidity-min");
          const data_Humidity_max = element.getAttribute("data-Humidity-max");
  
          const data_Temperature_min = element.getAttribute("data-Temperature-min");
          const data_Temperature_max = element.getAttribute( "data-Temperature-max");
  
          const data_SoilMoisture_min = element.getAttribute("data-SoilMoisture-min");
          const data_SoilMoisture_max = element.getAttribute("data-SoilMoisture-max");
  
          const data_LightIntensity_min = element.getAttribute("data-LightIntensity-min");
          const data_LightIntensity_max = element.getAttribute("data-LightIntensity-max");
  
  
          // Update modal content
          document.getElementById("plant-name").textContent = name;
  
          document.getElementById("plant-ph" ).textContent = `PH: ${data_ph_min} - ${data_ph_max}`;
          document.getElementById("plant-npk").textContent = `NPK: ${data_NPK_min} - ${data_NPK_max}`;
          document.getElementById("plant-N").textContent = `N: ${data_N_min} - ${data_N_max}`;
          document.getElementById("plant-P").textContent = `P: ${data_P_min} - ${data_P_max}`;
          document.getElementById("plant-Humidity").textContent = `Humidity: ${data_Humidity_min} - ${data_Humidity_max}`;
          document.getElementById("plant-Temperature").textContent = `Temperature: ${data_Temperature_min} - ${data_Temperature_max}`;
          document.getElementById("plant-soil-moisture").textContent = `SoilMoisture: ${data_SoilMoisture_min} - ${data_SoilMoisture_max}`;
          document.getElementById("plant-LightIntensity").textContent = `LightIntensity: ${data_LightIntensity_min} - ${data_LightIntensity_max}`;
  
          
          // Show the modal
          document.getElementById("plantModal").style.display = "flex";
        }
  
        function closeModal() {
          // Hide the modal
          document.getElementById("plantModal").style.display = "none";
        }
      </script>
</div>
    <!-- Bootstrap JavaScript (Place before closing </body>) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="webApp/Sensorjs.js"></script>
  </body>
</html>
