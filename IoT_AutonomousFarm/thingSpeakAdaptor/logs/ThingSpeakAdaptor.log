Device id: 186
Received 5 sensors: [{'sensor_id': 32, 'area_id': 44, 'type': 'Temperature', 'name': 'Temperature Sensor', 'unit': '°C', 'threshold': {'max': 50, 'min': 0}, 'domain': {'max': 100, 'min': -50}, 'greenhouse_id': 41}, {'sensor_id': 31, 'area_id': 44, 'type': 'NPK', 'name': 'NPK Sensor', 'unit': 'mg/kg', 'threshold': {'K': {'max': 400, 'min': 100}, 'N': {'max': 300, 'min': 34}, 'P': {'max': 300, 'min': 75}}, 'domain': {'max': 1000, 'min': 0}, 'greenhouse_id': 41}, {'sensor_id': 33, 'area_id': 44, 'type': 'Humidity', 'name': 'Humidity Sensor', 'unit': '%', 'threshold': {'max': 75, 'min': 30}, 'domain': {'max': 100, 'min': 0}, 'greenhouse_id': 41}, {'sensor_id': 34, 'area_id': 43, 'type': 'Temperature', 'name': 'Temperature Sensor', 'unit': '°C', 'threshold': {'max': 50, 'min': -10}, 'domain': {'max': 100, 'min': -50}, 'greenhouse_id': 41}, {'sensor_id': 35, 'area_id': 45, 'type': 'pH', 'name': 'pH Sensor', 'unit': 'pH', 'threshold': {'max': 7.5, 'min': 6.0}, 'domain': {'max': 10.0, 'min': 3.0}, 'greenhouse_id': 41}]
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}

Connected to mosquitto with result code 0
Subscribed to greenhouse_41/area_44/sensor_32
Subscribed to greenhouse_41/area_44/sensor_31
Subscribed to greenhouse_41/area_44/sensor_33
Subscribed to greenhouse_41/area_43/sensor_34
Subscribed to greenhouse_41/area_45/sensor_35
Started periodic sensor checking thread
Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.51, 'u': '°C', 't': 60}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 159.07, 'P': 198.12, 'K': 198.72}, 'u': 'mg/kg', 't': 60}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 80.16, 'u': '%', 't': 60}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.93, 'u': '°C', 't': 60}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.36, 'u': 'pH', 't': 60}}
Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
Failed to update ThingSpeak. Response: Bad Request

Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.18, 'u': '°C', 't': 120}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 158.86, 'P': 197.98, 'K': 198.55}, 'u': 'mg/kg', 't': 120}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 80.37, 'u': '%', 't': 120}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.44, 'u': '°C', 't': 120}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.36, 'u': 'pH', 't': 120}}
Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
Failed to update ThingSpeak. Response: Bad Request

Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.93, 'u': '°C', 't': 180}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 158.73, 'P': 197.97, 'K': 198.45}, 'u': 'mg/kg', 't': 180}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 79.71, 'u': '%', 't': 180}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.73, 'u': '°C', 't': 180}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.42, 'u': 'pH', 't': 180}}
Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
Error processing the message: HTTPSConnectionPool(host='api.thingspeak.com', port=443): Max retries exceeded with url: /update (Caused by SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1016)')))
Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.33, 'u': '°C', 't': 240}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 158.68, 'P': 197.94, 'K': 198.32}, 'u': 'mg/kg', 't': 240}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 78.68, 'u': '%', 't': 240}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.39, 'u': '°C', 't': 240}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.38, 'u': 'pH', 't': 240}}
Failed to update ThingSpeak. Response: Bad Request

Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.96, 'u': '°C', 't': 300}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 158.57, 'P': 197.9, 'K': 198.2}, 'u': 'mg/kg', 't': 300}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 76.67, 'u': '%', 't': 300}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.82, 'u': '°C', 't': 300}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.42, 'u': 'pH', 't': 300}}
Failed to update ThingSpeak. Response: Bad Request

Received: {'bn': 'greenhouse_41/area_44/sensor_32', 'e': {'n': 'Temperature', 'v': 22.45, 'u': '°C', 't': 360}}
Received: {'bn': 'greenhouse_41/area_44/sensor_31', 'e': {'n': 'NPK', 'v': {'N': 158.51, 'P': 197.89, 'K': 198.09}, 'u': 'mg/kg', 't': 360}}
Received: {'bn': 'greenhouse_41/area_44/sensor_33', 'e': {'n': 'Humidity', 'v': 75.38, 'u': '%', 't': 360}}
Received: {'bn': 'greenhouse_41/area_43/sensor_34', 'e': {'n': 'Temperature', 'v': 22.24, 'u': '°C', 't': 360}}
Received: {'bn': 'greenhouse_41/area_45/sensor_35', 'e': {'n': 'pH', 'v': 6.47, 'u': 'pH', 't': 360}}
Failed to update ThingSpeak. Response: Bad Request

Periodic sensor check started
Received greenhouse information: {'greenhouse_id': 41, 'user_id': 30, 'name': 'greenhouse#1', 'location': 'Milano', 'thingSpeak_config': {'read_key': 'ZPZG4DZDXG31P2FU', 'write_key': 'B1VQS0V9EO4UZFXB', 'channel_id': '3002703'}}
Periodic sensor check completed
