Device ID: 79

Received 1 sensors: [{'sensor_id': 13, 'area_id': 23, 'type': 'NPK', 'name': 'NPK Sensor', 'unit': 'mg/kg', 'threshold': {'K': {'max': 300, 'min': 200}, 'N': {'max': 100, 'min': 50}, 'P': {'max': 200, 'min': 150}}, 'domain': {'max': 1000, 'min': 0}, 'greenhouse_id': 28}]

Connected to mosquitto with result code 0
Subscribed to greenhouse_28/area_23/sensor_13
Subscribed to greenhouse_28/area_23/event/sensor_13
Started periodic sensor checking thread

Received: {'bn': 'greenhouse_28/area_23/sensor_13', 'e': {'n': 'NPK', 'v': {'N': 155.06, 'P': 204.87, 'K': 209.49}, 'u': 'mg/kg', 't': 60}}
WARNING: Failed to get when the next value of NPK (sensor_13) is expected to arrive
WARNING: Failed to get the next expected value of NPK (sensor_13)
Telegram message sent successfully to user 2070801980
Periodic sensor check started
Periodic sensor check completed

Received: {'bn': 'greenhouse_28/area_23/sensor_13', 'e': {'n': 'NPK', 'v': {'N': 154.87, 'P': 206.13, 'K': 208.49}, 'u': 'mg/kg', 't': 120}}
The next value of NPK (sensor_13) is expected to be received at: 180.0
The next value of NPK (sensor_13) is expected to be: {'N': 154.68, 'P': 207.39, 'K': 207.49} mg/kg
Wait to see another value to start the decision making for sensor_13 (NPK)
Periodic sensor check started
Periodic sensor check completed

Received: {'bn': 'greenhouse_28/area_23/sensor_13', 'e': {'n': 'NPK', 'v': {'N': 155.41, 'P': 206.35, 'K': 208.47}, 'u': 'mg/kg', 't': 180}}
Periodic sensor check started
Periodic sensor check completed
The next value of NPK (sensor_13) is expected to be received at: 240.0
The next value of NPK (sensor_13) is expected to be: {'N': 155.46333333333334, 'P': 207.26333333333332, 'K': 207.79666666666668} mg/kg
WARNING: The measured value 155.41 mg/kg of sensor_13 (NPK - N) went outside the range [50, 100]
WARNING: The measured value 155.41 mg/kg and the next expected one 155.46333333333334 mg/kg of NPK - N (sensor_13) are outside the range.
Action needed to decrease the value
Telegram message sent successfully to user 2070801980
Published to greenhouse_28/area_23/action/sensor_13: {"message": {"action": "decrease", "val": 155.41, "min_treshold": 50, "max_treshold": 100}, "parameter": "N", "timestamp": 180}
WARNING: The measured value 206.35 mg/kg of sensor_13 (NPK - P) went outside the range [150, 200]
WARNING: The measured value 206.35 mg/kg and the next expected one 207.26333333333332 mg/kg of NPK - P (sensor_13) are outside the range.
Action needed to decrease the value
Telegram message sent successfully to user 2070801980
Published to greenhouse_28/area_23/action/sensor_13: {"message": {"action": "decrease", "val": 206.35, "min_treshold": 150, "max_treshold": 200}, "parameter": "P", "timestamp": 180}
The measured value (208.47 mg/kg) and the next prediction (207.79666666666668 mg/kg) of NPK - K (sensor_13) are inside the range [200, 300]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_28/area_23/sensor_13', 'e': {'n': 'NPK', 'v': {'N': 157.13, 'P': 204.8, 'K': 208.91}, 'u': 'mg/kg', 't': 240}}
The next value of NPK (sensor_13) is expected to be received at: 300.0
The next value of NPK (sensor_13) is expected to be: {'N': 157.305, 'P': 205.54000000000002, 'K': 208.4} mg/kg
WARNING: The measured value 157.13 mg/kg of sensor_13 (NPK - N) went outside the range [50, 100]
WARNING: The measured value 157.13 mg/kg and the next expected one 157.305 mg/kg of NPK - N (sensor_13) are outside the range.
Action needed to decrease the value
Telegram message sent successfully to user 2070801980
Published to greenhouse_28/area_23/action/sensor_13: {"message": {"action": "decrease", "val": 157.13, "min_treshold": 50, "max_treshold": 100}, "parameter": "N", "timestamp": 240}
WARNING: The measured value 204.8 mg/kg of sensor_13 (NPK - P) went outside the range [150, 200]
WARNING: The measured value 204.8 mg/kg and the next expected one 205.54000000000002 mg/kg of NPK - P (sensor_13) are outside the range.
Action needed to decrease the value
Telegram message sent successfully to user 2070801980
Published to greenhouse_28/area_23/action/sensor_13: {"message": {"action": "decrease", "val": 204.8, "min_treshold": 150, "max_treshold": 200}, "parameter": "P", "timestamp": 240}
The measured value (208.91 mg/kg) and the next prediction (208.4 mg/kg) of NPK - K (sensor_13) are inside the range [200, 300]
Telegram message sent successfully to user 2070801980
Periodic sensor check started
Periodic sensor check completed
