Device ID: 45

Received 6 sensors: [{'sensor_id': 5, 'area_id': 6, 'type': 'SoilMoisture', 'name': 'Soil Moisture Sensor', 'unit': '%', 'threshold': {'max': 80, 'min': 20}, 'domain': {'max': 100, 'min': 0}, 'greenhouse_id': 13}, {'sensor_id': 1, 'area_id': 4, 'type': 'SoilMoisture', 'name': 'Soil Moisture Sensor', 'unit': '%', 'threshold': {'max': 80, 'min': 25}, 'domain': {'max': 100, 'min': 0}, 'greenhouse_id': 13}, {'sensor_id': 3, 'area_id': 4, 'type': 'pH', 'name': 'pH Sensor', 'unit': 'pH', 'threshold': {'max': 7.5, 'min': 5}, 'domain': {'max': 10.0, 'min': 3.0}, 'greenhouse_id': 13}, {'sensor_id': 2, 'area_id': 4, 'type': 'NPK', 'name': 'NPK Sensor', 'unit': 'mg/kg', 'threshold': {'K': {'max': 400, 'min': 100}, 'N': {'max': 152, 'min': 56}, 'P': {'max': 300, 'min': 75}}, 'domain': {'max': 1000, 'min': 0}, 'greenhouse_id': 13}, {'sensor_id': 9, 'area_id': 5, 'type': 'pH', 'name': 'pH Sensor', 'unit': 'pH', 'threshold': {'max': 7.5, 'min': 6.0}, 'domain': {'max': 10.0, 'min': 3.0}, 'greenhouse_id': 13}, {'sensor_id': 11, 'area_id': 5, 'type': 'NPK', 'name': 'NPK Sensor', 'unit': 'mg/kg', 'threshold': {'K': {'max': 400, 'min': 100}, 'N': {'max': 150, 'min': 50}, 'P': {'max': 300, 'min': 75}}, 'domain': {'max': 1000, 'min': 0}, 'greenhouse_id': 13}]

Subscribed to greenhouse_13/area_6/sensor_5
Subscribed to greenhouse_13/area_6/event/sensor_5
Subscribed to greenhouse_13/area_4/sensor_1
Subscribed to greenhouse_13/area_4/event/sensor_1
Subscribed to greenhouse_13/area_4/sensor_3
Subscribed to greenhouse_13/area_4/event/sensor_3
Subscribed to greenhouse_13/area_4/sensor_2
Subscribed to greenhouse_13/area_4/event/sensor_2
Subscribed to greenhouse_13/area_5/sensor_9
Subscribed to greenhouse_13/area_5/event/sensor_9
Subscribed to greenhouse_13/area_5/sensor_11
Subscribed to greenhouse_13/area_5/event/sensor_11
Connected to mqtt.eclipseprojects.io with result code 0

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 48.188592306719194, 'u': '%', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=5&sensor_type=SoilMoisture&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640624b0>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 48.45331824831391, 'u': '%', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=1&sensor_type=SoilMoisture&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64063110>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 6.967772434485325, 'u': 'pH', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=3&sensor_type=pH&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64063cb0>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 148.08962169142842, 'P': 200.59875666040526, 'K': 198.69406719785835}, 'u': 'mg/kg', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=2&sensor_type=NPK&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640a4770>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 7.087478237902976, 'u': 'pH', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=9&sensor_type=pH&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640632f0>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 151.45561062296554, 'P': 201.36124720899556, 'K': 201.68197081938737}, 'u': 'mg/kg', 't': 60}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=11&sensor_type=NPK&timestamp=60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64061280>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 50.29592001124138, 'u': '%', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=5&sensor_type=SoilMoisture&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640a4b30>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 50.93246181862321, 'u': '%', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=1&sensor_type=SoilMoisture&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640a5820>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 6.903123914412537, 'u': 'pH', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=3&sensor_type=pH&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64062480>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 149.98152231501737, 'P': 198.94380841225976, 'K': 198.3292809678088}, 'u': 'mg/kg', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=2&sensor_type=NPK&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64063140>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 6.986798265898488, 'u': 'pH', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=9&sensor_type=pH&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f64063e60>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 148.6211843555834, 'P': 197.96094679709657, 'K': 199.39419982866215}, 'u': 'mg/kg', 't': 80}}
Error processing the message: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /get_next_timestamp?sensor_id=11&sensor_type=NPK&timestamp=80 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x756f640a4dd0>: Failed to establish a new connection: [Errno 111] Connection refused'))

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 48.339568252733166, 'u': '%', 't': 100}}
WARNING: Failed to get when the next value of SoilMoisture (sensor_5) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 49.241564329434574, 'u': '%', 't': 100}}
WARNING: Failed to get when the next value of SoilMoisture (sensor_1) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 7.036960708060704, 'u': 'pH', 't': 100}}
WARNING: Failed to get when the next value of pH (sensor_3) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 150.22440292060335, 'P': 199.62912697325297, 'K': 198.51783095704175}, 'u': 'mg/kg', 't': 100}}
WARNING: Failed to get when the next value of NPK (sensor_2) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 7.086877557634215, 'u': 'pH', 't': 100}}
WARNING: Failed to get when the next value of pH (sensor_9) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 150.1786046813148, 'P': 201.83601551684308, 'K': 198.91084609889327}, 'u': 'mg/kg', 't': 100}}
WARNING: Failed to get when the next value of NPK (sensor_11) is expected to arrive
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 51.504652575185084, 'u': '%', 't': 120}}
The next value of SoilMoisture (sensor_5) is expected to be received at: 140.0
The next value of SoilMoisture (sensor_5) is expected to be: 54.669736897637 %
Wait to see another value to start the decision making for sensor_5 (SoilMoisture)

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 48.34770084174563, 'u': '%', 't': 120}}
The next value of SoilMoisture (sensor_1) is expected to be received at: 140.0
The next value of SoilMoisture (sensor_1) is expected to be: 47.45383735405668 %
Wait to see another value to start the decision making for sensor_1 (SoilMoisture)

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 7.062410214654137, 'u': 'pH', 't': 120}}
The next value of pH (sensor_3) is expected to be received at: 140.0
The next value of pH (sensor_3) is expected to be: 7.087859721247569 pH
Wait to see another value to start the decision making for sensor_3 (pH)

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 150.25783046130013, 'P': 198.20997318386102, 'K': 198.1808972320526}, 'u': 'mg/kg', 't': 120}}
The next value of NPK (sensor_2) is expected to be received at: 140.0
The next value of NPK (sensor_2) is expected to be: {'N': 150.2912580019969, 'P': 196.79081939446908, 'K': 197.84396350706342} mg/kg
Wait to see another value to start the decision making for sensor_2 (NPK)

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 6.953087157935783, 'u': 'pH', 't': 120}}
The next value of pH (sensor_9) is expected to be received at: 140.0
The next value of pH (sensor_9) is expected to be: 6.819296758237351 pH
Wait to see another value to start the decision making for sensor_9 (pH)

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 149.5561866428387, 'P': 200.41310450959799, 'K': 199.05596984409797}, 'u': 'mg/kg', 't': 120}}
The next value of NPK (sensor_11) is expected to be received at: 140.0
The next value of NPK (sensor_11) is expected to be: {'N': 148.9337686043626, 'P': 198.9901935023529, 'K': 199.2010935893027} mg/kg
Wait to see another value to start the decision making for sensor_11 (NPK)

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 51.681004388365636, 'u': '%', 't': 140}}
The next value of SoilMoisture (sensor_5) is expected to be received at: 160.0
The next value of SoilMoisture (sensor_5) is expected to be: 53.849844541060435 %
The measured value (51.681004388365636 %) and the next prediction (53.849844541060435 %) of sensor_5 (SoilMoisture) are inside the range [20, 80]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 48.83524000381647, 'u': '%', 't': 140}}
The next value of SoilMoisture (sensor_1) is expected to be received at: 160.0
The next value of SoilMoisture (sensor_1) is expected to be: 48.40184406604746 %
The measured value (48.83524000381647 %) and the next prediction (48.40184406604746 %) of sensor_1 (SoilMoisture) are inside the range [25, 80]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 6.9237615638886725, 'u': 'pH', 't': 140}}
The next value of pH (sensor_3) is expected to be received at: 160.0
The next value of pH (sensor_3) is expected to be: 6.894511684695805 pH
The measured value (6.9237615638886725 pH) and the next prediction (6.894511684695805 pH) of sensor_3 (pH) are inside the range [5, 7.5]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 151.2160507624676, 'P': 199.88947555261967, 'K': 201.1246471373538}, 'u': 'mg/kg', 't': 140}}
The next value of NPK (sensor_2) is expected to be received at: 160.0
The next value of NPK (sensor_2) is expected to be: {'N': 151.5577425566546, 'P': 199.5032071492779, 'K': 201.88127462246143} mg/kg
The measured value (151.2160507624676 mg/kg) and the next prediction (151.5577425566546 mg/kg) of NPK - N (sensor_2) are inside the range [56, 152]
Telegram message sent successfully to user 2070801980
The measured value (199.88947555261967 mg/kg) and the next prediction (199.5032071492779 mg/kg) of NPK - P (sensor_2) are inside the range [75, 300]
Telegram message sent successfully to user 2070801980
The measured value (201.1246471373538 mg/kg) and the next prediction (201.88127462246143 mg/kg) of NPK - K (sensor_2) are inside the range [100, 400]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 6.921221220951214, 'u': 'pH', 't': 140}}
The next value of pH (sensor_9) is expected to be received at: 160.0
The next value of pH (sensor_9) is expected to be: 6.821405642157403 pH
The measured value (6.921221220951214 pH) and the next prediction (6.821405642157403 pH) of sensor_9 (pH) are inside the range [6.0, 7.5]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 150.1982388541854, 'P': 200.81221944811438, 'K': 201.053813264283}, 'u': 'mg/kg', 't': 140}}
The next value of NPK (sensor_11) is expected to be received at: 160.0
The next value of NPK (sensor_11) is expected to be: {'N': 149.99731089898356, 'P': 199.99665042278977, 'K': 201.81651023448117} mg/kg
WARNING: The measured value 150.1982388541854 mg/kg of sensor_11 (NPK - N) went outside the range [50, 150]
Telegram message sent successfully to user 2070801980
Checking the mean value of the last 10 measurements of NPK - N (sensor_11) to understand if an action is needed
Mean value the last 10 measurements of NPK - N (sensor_11): 149.98094908825806 mg/kg
The measured value (200.81221944811438 mg/kg) and the next prediction (199.99665042278977 mg/kg) of NPK - P (sensor_11) are inside the range [75, 300]
Telegram message sent successfully to user 2070801980
The measured value (201.053813264283 mg/kg) and the next prediction (201.81651023448117 mg/kg) of NPK - K (sensor_11) are inside the range [100, 400]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_6/sensor_5', 'e': {'n': 'SoilMoisture', 'v': 48.21840225821017, 'u': '%', 't': 160}}
The next value of SoilMoisture (sensor_5) is expected to be received at: 180.0
The next value of SoilMoisture (sensor_5) is expected to be: 49.889120326026415 %
WARNING: The measured value 48.21840225821017 % of SoilMoisture (sensor_5) is unexpected. (Expected value was 49.889120326026415 %)	Waiting to receive another value
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_1', 'e': {'n': 'SoilMoisture', 'v': 48.57361129912351, 'u': '%', 't': 160}}
The next value of SoilMoisture (sensor_1) is expected to be received at: 180.0
The next value of SoilMoisture (sensor_1) is expected to be: 48.37044913631446 %
The measured value (48.57361129912351 %) and the next prediction (48.37044913631446 %) of sensor_1 (SoilMoisture) are inside the range [25, 80]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_3', 'e': {'n': 'pH', 'v': 6.935746337778376, 'u': 'pH', 't': 160}}
The next value of pH (sensor_3) is expected to be received at: 180.0
The next value of pH (sensor_3) is expected to be: 6.87914676569236 pH
The measured value (6.935746337778376 pH) and the next prediction (6.87914676569236 pH) of sensor_3 (pH) are inside the range [5, 7.5]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_4/sensor_2', 'e': {'n': 'NPK', 'v': {'N': 150.3202815579765, 'P': 198.30484125465264, 'K': 201.19849317811952}, 'u': 'mg/kg', 't': 160}}
The next value of NPK (sensor_2) is expected to be received at: 180.0
The next value of NPK (sensor_2) is expected to be: {'N': 150.8161054789086, 'P': 198.43501554433598, 'K': 202.50190126827553} mg/kg
The measured value (150.3202815579765 mg/kg) and the next prediction (150.8161054789086 mg/kg) of NPK - N (sensor_2) are inside the range [56, 152]
Telegram message sent successfully to user 2070801980
The measured value (198.30484125465264 mg/kg) and the next prediction (198.43501554433598 mg/kg) of NPK - P (sensor_2) are inside the range [75, 300]
Telegram message sent successfully to user 2070801980
The measured value (201.19849317811952 mg/kg) and the next prediction (202.50190126827553 mg/kg) of NPK - K (sensor_2) are inside the range [100, 400]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_9', 'e': {'n': 'pH', 'v': 7.0494425255455635, 'u': 'pH', 't': 160}}
The next value of pH (sensor_9) is expected to be received at: 180.0
The next value of pH (sensor_9) is expected to be: 6.9666143572040635 pH
The measured value (7.0494425255455635 pH) and the next prediction (6.9666143572040635 pH) of sensor_9 (pH) are inside the range [6.0, 7.5]
Telegram message sent successfully to user 2070801980

Received: {'bn': 'greenhouse_13/area_5/sensor_11', 'e': {'n': 'NPK', 'v': {'N': 150.1566688734244, 'P': 201.0670927476335, 'K': 200.9519045114328}, 'u': 'mg/kg', 't': 160}}
The next value of NPK (sensor_11) is expected to be received at: 180.0
The next value of NPK (sensor_11) is expected to be: {'N': 150.1664859598597, 'P': 200.55519471326915, 'K': 202.02338809412765} mg/kg
WARNING: The measured value 150.1566688734244 mg/kg of sensor_11 (NPK - N) went outside the range [50, 150]
Telegram message sent successfully to user 2070801980
Checking the mean value of the last 10 measurements of NPK - N (sensor_11) to understand if an action is needed
Mean value the last 10 measurements of NPK - N (sensor_11): 150.0512370023246 mg/kg
WARNING: The measured value 150.1566688734244 mg/kg and the mean value 150.0512370023246 mg/kg of NPK - N (sensor_11) are outside the range.
Action needed to decrease the value
Telegram message sent successfully to user 2070801980
Published to greenhouse_13/area_5/action/sensor_11: {"message": {"action": "decrease", "val": 150.1566688734244, "min_treshold": 50, "max_treshold": 150, "nutrient": "N"}, "sensor_type": "NPK", "timestamp": 160}
The measured value (201.0670927476335 mg/kg) and the next prediction (200.55519471326915 mg/kg) of NPK - P (sensor_11) are inside the range [75, 300]
Telegram message sent successfully to user 2070801980
The measured value (200.9519045114328 mg/kg) and the next prediction (202.02338809412765 mg/kg) of NPK - K (sensor_11) are inside the range [100, 400]
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of SoilMoisture from sensor_5 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of SoilMoisture from sensor_1 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of pH from sensor_3 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of NPK from sensor_2 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of pH from sensor_9 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
WARNING: Was expecting a value of NPK from sensor_11 at time 180.0, but it didn't arrive
Telegram message sent successfully to user 2070801980
